---
title: Gene_Economy
description: Gene_Economy 插件文档
keywords: ["navigation", "sidebar", "menus", "mdx", "nextjs", "documents"]
---

# Gene_Economy 插件文档

## 命令文档

### 命令说明

主命令: GeneEcon 或 geco

权限节点: GeneEcon.command

子命令:
1. 主命令
   - 功能: 显示命令帮助信息
   - 使用示例: `/geco` 或 `/GeneEcon`

2. reload
   - 功能: 重载插件配置
   - 使用示例: `/geco reload`
   - 权限: 需要控制台或管理员权限

3. look [玩家]
   - 功能: 查看玩家货币信息
   - 参数说明:
     - player: 目标玩家名称
   - 使用示例: `/geco look <玩家名>`
   - 返回信息:
     - 显示玩家所有货币类型及其数量
     - 如果玩家不存在则提示"玩家不存在"

4. take [玩家] [货币类型] [数量]
   - 功能: 减少玩家货币
   - 参数说明:
     - player: 目标玩家名称
     - type: 货币类型
     - amount: 减少数量
   - 使用示例: `/geco take <玩家名> <货币类型> <数量>`
   - 返回信息:
     - 成功: "成功为玩家减少货币[货币名称] +[数量]"
     - 失败: "减少货币失败" 或 "货币类型不存在"

5. add [玩家] [货币类型] [数量]
   - 功能: 增加玩家货币
   - 参数说明:
     - player: 目标玩家名称
     - type: 货币类型
     - amount: 增加数量
   - 使用示例: `/geco add <玩家名> <货币类型> <数量>`
   - 返回信息:
     - 成功: "成功为玩家增加货币[货币名称] +[数量]"
     - 失败: "增加货币失败" 或 "货币类型不存在"

6. reset [玩家] [货币类型]
   - 功能: 重置玩家货币
   - 参数说明:
     - player: 目标玩家名称
     - type: 货币类型
   - 使用示例: `/geco reset <玩家名> <货币类型>`
   - 返回信息:
     - 成功: "重置货币成功"
     - 失败: "货币类型不存在"

## PAPI变量

### 变量说明

变量前缀: GeneEconomy

变量格式: %GeneEconomy_papi_prefix%

配置说明:
```yaml
EconomyList:
  points:
    papi_prefix: "点券"  # PAPI变量显示名称
    default: 0.0        # 默认值
  money:
    papi_prefix: "金币"  # PAPI变量显示名称
    default: 0.0        # 默认值
```

使用示例:
- %GeneEconomy_点券% - 获取玩家点券数量
- %GeneEconomy_金币% - 获取玩家金币数量

注意事项:
1. 如果玩家不存在或未加载，返回空字符串
2. 如果货币类型不存在，返回空字符串
3. 如果玩家没有该货币类型，返回空字符串
4. 玩家进入服务器后20秒才会开始加载数据（可配置）

## 数据库配置

```yaml
database:
  # 数据加载延迟
  join-select-delay: 20  # 玩家进入服务器后多久开始加载数据
  # 数据储存配置
  source:
    SQL:
      host: 127.0.0.1
      port: 60032
      user: root
      password: gene@mysql
      database: Mc
      table: Gene_Econ
```

## 插件工作日志

| 提交时间                              | 提交内容                                                                          |
|--------------------------------------|---------------------------------------------------------------------------------|
| **2024-03-22 15:48:27 +0800** | 初始化迁移提交 |
| **2024-03-22 14:56:09 +0800** | Initial Commit |
